{"version":3,"sources":["useStableCallback.ts"],"names":["useRef","useCallback","useEffect","useStableCallback","callback","callbackRef","memoCallback","args","current","undefined"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,WAAjB,EAA8BC,SAA9B,QAA+C,OAA/C;;AAGA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAIC,QAAD,IAAwB;AACvD,QAAMC,WAAW,GAAGL,MAAM,EAA1B;AACA,QAAMM,YAAY,GAAGL,WAAW,CAC9B,CAAC,GAAGM,IAAJ,KAAkBF,WAAW,CAACG,OAAZ,IAAuBH,WAAW,CAACG,OAAZ,CAAoB,GAAGD,IAAvB,CADX,EAE9B,EAF8B,CAAhC;AAIAL,EAAAA,SAAS,CAAC,MAAM;AACdG,IAAAA,WAAW,CAACG,OAAZ,GAAsBJ,QAAtB;AACA,WAAO,MAAOC,WAAW,CAACG,OAAZ,GAAsBC,SAApC;AACD,GAHQ,CAAT;AAIA,SAAOH,YAAP;AACD,CAXM","sourcesContent":["import { useRef, useCallback, useEffect } from 'react';\n\ntype Callback = (...args: any[]) => any;\n/**\n * Provide a stable version of useCallback\n * https://gist.github.com/JakeCoxon/c7ebf6e6496f8468226fd36b596e1985\n */\nexport const useStableCallback = (callback: Callback) => {\n  const callbackRef = useRef<Callback>();\n  const memoCallback = useCallback(\n    (...args: any) => callbackRef.current && callbackRef.current(...args),\n    []\n  );\n  useEffect(() => {\n    callbackRef.current = callback;\n    return () => (callbackRef.current = undefined);\n  });\n  return memoCallback;\n};\n"]}