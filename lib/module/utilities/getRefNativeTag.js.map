{"version":3,"sources":["getRefNativeTag.ts"],"names":["isFunction","ref","hasNativeTag","current","getRefNativeTag","refType","nativeTag","_nativeTag","Error"],"mappings":"AAAA,MAAMA,UAAU,GAAIC,GAAD,IAAmC,OAAOA,GAAP,KAAe,UAArE;;AAEA,MAAMC,YAAY,GAChBD,GADmB,IAGnB,CAAC,CAACA,GAAF,IACA,OAAOA,GAAP,KAAe,QADf,IAEA,cAAcA,GAAG,IAAI,EAArB,CAFA,IAGA,iBAAiB,CAACA,GAAD,aAACA,GAAD,uBAACA,GAAD,CAAcE,OAAd,KAAyB,EAA1C,CANF;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO,SAASC,eAAT,CAAyBH,GAAzB,EAAuC;AAC5C,QAAMI,OAAO,GAAG,OAAOJ,GAAvB;AACA,MAAIK,SAAJ;;AACA,MAAIN,UAAU,CAACC,GAAD,CAAd,EAAqB;AACnBK,IAAAA,SAAS,GAAGL,GAAG,EAAf;AACD,GAFD,MAEO,IAAIC,YAAY,CAACD,GAAD,CAAhB,EAAuB;AAC5BK,IAAAA,SAAS,GAAGL,GAAG,CAACE,OAAJ,CAAYI,UAAxB;AACD;;AAED,MAAI,CAACD,SAAD,IAAc,OAAOA,SAAP,KAAqB,QAAvC,EAAiD;AAC/C,UAAM,IAAIE,KAAJ,CACH,yBAAwBH,OAAQ,eAAcC,SAAU;AAC/D;AACA;AACA;AACA;AACA,SAASL,GAAI;AACb,IAPU,CAAN;AASD;;AAED,SAAOK,SAAP;AACD","sourcesContent":["const isFunction = (ref: unknown): ref is Function => typeof ref === 'function';\n\nconst hasNativeTag = (\n  ref: unknown\n): ref is { current: { _nativeTag: number } } =>\n  !!ref &&\n  typeof ref === 'object' &&\n  'current' in (ref || {}) &&\n  '_nativeTag' in ((ref as any)?.current || {});\n\n/*\n * getRefNativeTag is an internal utility used by createBottomSheetScrollableComponent\n * to grab the native tag from the native host component. It only works when the ref\n * is pointing to a native Host component.\n *\n * Internally in the bottom-sheet library ref can be a function that returns a native tag\n * this seems to happen due to the usage of Reanimated's animated scroll components.\n *\n * This should be Fabric compatible as long as the ref is a native host component.\n * */\nexport function getRefNativeTag(ref: unknown) {\n  const refType = typeof ref;\n  let nativeTag: undefined | number;\n  if (isFunction(ref)) {\n    nativeTag = ref();\n  } else if (hasNativeTag(ref)) {\n    nativeTag = ref.current._nativeTag;\n  }\n\n  if (!nativeTag || typeof nativeTag !== 'number') {\n    throw new Error(\n      `Unexpected nativeTag: ${refType}; nativeTag=${nativeTag} \n\n\t\t\tcreateBottomSheetScrollableComponent's ScrollableComponent needs to return \n\t\t\ta reference that contains a nativeTag to a Native HostComponent.\n\n\t\t\tref=${ref}\n\t\t\t`\n    );\n  }\n\n  return nativeTag;\n}\n"]}