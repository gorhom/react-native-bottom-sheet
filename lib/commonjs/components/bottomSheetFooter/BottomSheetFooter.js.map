{"version":3,"sources":["BottomSheetFooter.tsx"],"names":["BottomSheetFooterComponent","animatedFooterPosition","bottomInset","style","children","animatedFooterHeight","animatedKeyboardState","containerAnimatedStyle","footerTranslateY","value","KEYBOARD_STATE","SHOWN","transform","translateY","Math","max","containerStyle","styles","container","handleContainerLayout","nativeEvent","layout","height","BottomSheetFooter","displayName"],"mappings":";;;;;;;AAAA;;AAEA;;AACA;;AACA;;AAEA;;;;;;AAEA,SAASA,0BAAT,CAAoC;AAClCC,EAAAA,sBADkC;AAElCC,EAAAA,WAAW,GAAG,CAFoB;AAGlCC,EAAAA,KAHkC;AAIlCC,EAAAA;AAJkC,CAApC,EAKkC;AAChC;AACA,QAAM;AAAEC,IAAAA,oBAAF;AAAwBC,IAAAA;AAAxB,MACJ,oCADF,CAFgC,CAIhC;AAEA;;AACA,QAAMC,sBAAsB,GAAG,6CAAiB,MAAM;AACpD,QAAIC,gBAAgB,GAAGP,sBAAsB,CAACQ,KAA9C;AAEA;AACJ;AACA;;AACI,QAAIH,qBAAqB,CAACG,KAAtB,KAAgCC,0BAAeC,KAAnD,EAA0D;AACxDH,MAAAA,gBAAgB,GAAGA,gBAAgB,GAAGN,WAAtC;AACD;;AAED,WAAO;AACLU,MAAAA,SAAS,EAAE,CACT;AACEC,QAAAA,UAAU,EAAEC,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYP,gBAAZ;AADd,OADS;AADN,KAAP;AAOD,GAjB8B,EAiB5B,CAACN,WAAD,EAAcI,qBAAd,EAAqCL,sBAArC,CAjB4B,CAA/B;AAkBA,QAAMe,cAAc,GAAG,oBACrB,MAAM,CAACC,eAAOC,SAAR,EAAmBf,KAAnB,EAA0BI,sBAA1B,CADe,EAErB,CAACJ,KAAD,EAAQI,sBAAR,CAFqB,CAAvB,CAzBgC,CA6BhC;AAEA;;AACA,QAAMY,qBAAqB,GAAG,wBAC5B,CAAC;AACCC,IAAAA,WAAW,EAAE;AACXC,MAAAA,MAAM,EAAE;AAAEC,QAAAA;AAAF;AADG;AADd,GAAD,KAIyB;AACvBjB,IAAAA,oBAAoB,CAACI,KAArB,GAA6Ba,MAA7B;AACD,GAP2B,EAQ5B,CAACjB,oBAAD,CAR4B,CAA9B,CAhCgC,CA0ChC;;AAEA,SAAOD,QAAQ,KAAK,IAAb,gBACL,6BAAC,8BAAD,CAAU,IAAV;AACE,IAAA,aAAa,EAAC,UADhB;AAEE,IAAA,QAAQ,EAAEe,qBAFZ;AAGE,IAAA,KAAK,EAAEH;AAHT,KAKG,OAAOZ,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,EAAzC,GAA8CA,QALjD,CADK,GAQH,IARJ;AASD;;AAED,MAAMmB,iBAAiB,gBAAG,iBAAKvB,0BAAL,CAA1B;AACAuB,iBAAiB,CAACC,WAAlB,GAAgC,mBAAhC;eAEeD,iB","sourcesContent":["import React, { memo, useCallback, useMemo } from 'react';\nimport { LayoutChangeEvent } from 'react-native';\nimport Animated, { useAnimatedStyle } from 'react-native-reanimated';\nimport { KEYBOARD_STATE } from '../../constants';\nimport { useBottomSheetInternal } from '../../hooks';\nimport type { BottomSheetDefaultFooterProps } from './types';\nimport { styles } from './styles';\n\nfunction BottomSheetFooterComponent({\n  animatedFooterPosition,\n  bottomInset = 0,\n  style,\n  children,\n}: BottomSheetDefaultFooterProps) {\n  //#region hooks\n  const { animatedFooterHeight, animatedKeyboardState } =\n    useBottomSheetInternal();\n  //#endregion\n\n  //#region styles\n  const containerAnimatedStyle = useAnimatedStyle(() => {\n    let footerTranslateY = animatedFooterPosition.value;\n\n    /**\n     * Offset the bottom inset only when keyboard is not shown\n     */\n    if (animatedKeyboardState.value !== KEYBOARD_STATE.SHOWN) {\n      footerTranslateY = footerTranslateY - bottomInset;\n    }\n\n    return {\n      transform: [\n        {\n          translateY: Math.max(0, footerTranslateY),\n        },\n      ],\n    };\n  }, [bottomInset, animatedKeyboardState, animatedFooterPosition]);\n  const containerStyle = useMemo(\n    () => [styles.container, style, containerAnimatedStyle],\n    [style, containerAnimatedStyle]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleContainerLayout = useCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) => {\n      animatedFooterHeight.value = height;\n    },\n    [animatedFooterHeight]\n  );\n  //#endregion\n\n  return children !== null ? (\n    <Animated.View\n      pointerEvents=\"box-none\"\n      onLayout={handleContainerLayout}\n      style={containerStyle}\n    >\n      {typeof children === 'function' ? children() : children}\n    </Animated.View>\n  ) : null;\n}\n\nconst BottomSheetFooter = memo(BottomSheetFooterComponent);\nBottomSheetFooter.displayName = 'BottomSheetFooter';\n\nexport default BottomSheetFooter;\n"]}